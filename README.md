# Xylella Spreading Simulation

## Overview

This project is a simulation model for the spread of the *Xylella fastidiosa* bacterium in a network of olive trees. It uses a graph-based approach to model the spatial relationships between trees and simulates the spread of the disease over time based on a probabilistic model. The model considers factors like distance between trees, seasonality, and other configurable parameters.

The project also includes tools for network analysis to identify critical nodes in the network and for validating the simulation results against real-world data.

## Features

*   **Graph-Based Simulation:** Models the orchard as a graph, with trees as nodes and edges representing proximity.
*   **Probabilistic Spread Model:** Simulates disease spread based on distance, seasonality, and configurable infection parameters.
*   **Monte Carlo Analysis:** Runs multiple simulation iterations to generate probabilistic risk maps.
*   **Validation:** Compares simulation outputs against ground-truth data using the Jaccard similarity index.
*   **Network Centrality Analysis:** Calculates and visualizes centrality metrics (e.g., closeness centrality) to identify important trees in the network.
*   **Data Visualization:** Generates plots for the epidemic curve, risk maps, and validation results.

## Project Structure

The project is organized into the following main directories:

*   `area_selection/`: Contains scripts and data for selecting a geographical area for the simulation.
*   `simulation/`: Contains the core simulation engine, experiment scripts, and analysis tools. This is where the main simulation logic resides.
*   `sensitivity_analysis_results/`: Stores the output files generated by the sensitivity analysis experiments.

## Getting Started

### Prerequisites

This project requires Python and the following libraries:

*   pandas
*   numpy
*   matplotlib
*   networkx

You can install them using pip:
```bash
pip install pandas numpy matplotlib networkx
```

### Installation

1.  Clone the repository to your local machine:
    ```bash
    git clone https://github.com/nickpol29/xylella_spreading.git
    ```
2.  Navigate to the project directory:
    ```bash
    cd xylella_spreading
    ```

### Usage

The main workflow of the project consists of area selection, running the simulation, and analyzing the results.

1.  **Area Selection:**
    The `area_selection/pick_location.py` script can be used to filter a set of trees based on a geographical bounding box. You will be prompted to enter the coordinates for the area of interest. This will generate a `filtered_trees.csv` file.

2.  **Running the Simulation:**
    The main experiment can be run using the `simulation/run_final_experiment.py` script. This script will:
    *   Run a Monte Carlo simulation based on the parameters defined in the script.
    *   Generate a `final_simulation_results.csv` file with the infection probabilities for each tree.
    *   Create several plots (`Fig1_Epidemic_Curve.pdf`, `Fig2_Risk_Maps.pdf`, `Fig3_Validation_Metrics.pdf`) to visualize the results.

3.  **Centrality Analysis:**
    To calculate and analyze the network centrality of the trees, you can run the `simulation/calculate_centrality.py` script. This will generate a CSV file with ranked nodes and plots of the centrality scores.

## Contributing

Contributions are welcome! Please feel free to submit a pull request or open an issue.

## License

This project is unlicensed.
